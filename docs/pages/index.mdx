[![Go Tool][social.preview]][preview.config]

[![Coverage][coverage.icon]][coverage.page]
[![Quality][quality.icon]][quality.page]
[![Documentation][docs.icon]][docs.page]
[![CI/CD][build.icon]][build.page]
[![Promo][site.icon]][site.page]
[![Mirror][mirror.icon]][mirror.page]
[![Template][template.icon]][template.page]

# üß© Tool

Template for a typical CLI-tool written on Go.

## üõ´ Quick start

<details>
  <summary>Work with Makefile</summary>

```bash
$ make setup
$ make help

$ make find-todos
$ make test lint
$ TIMEOUT=5s make test-with-coverage
```

For more details please visit [the page](https://makefiles.octolab.org/).

</details>
<details>
  <summary>Work with Taskfile</summary>

```bash
$ alias run=./Taskfile
$ run refresh
$ run help

$ run docs # === `run docs install -- build -- start`
$ run docs npm ci
$ run docs npm i nextra@latest

$ run tools go generate tools.go
$ run tools golangci-lint --version -- mockgen --version
$ run which goimports golangci-lint govulncheck mockgen
```

For more details please visit [the page](https://taskfiles.octolab.org/).

</details>
<details>
  <summary>Work with Tools</summary>

```bash
$ make tools
$ source bin/activate

$ which goimports
$ goimports -local $(go list -m) -w ./...
```

For more details please visit [the page](https://egg.octolab.org/).

</details>
<details>
  <summary>Work with Docker</summary>

```bash
$ make go-1.19 # or go-1.20, etc.
/src# make go-env 2>/dev/null | grep GOVERSION
# GOVERSION:   1.19.10
/src# make test
```

</details>

## üí° Idea

Define a powerful template that quickly creates a new Go CLI-tool.
Not only does it provide a starting point for new projects,
but it comes equipped with pre-configured ci/cd and inventory.

```bash
$ tool do action
```

## üèÜ Motivation

At [OctoLab][octolab.site], we want to start new projects faster using best practices
with a predefined structure and focusing on core ideas implementation
rather than wasting time on environment configuration and copying boilerplate code.

## ü§º‚Äç How to

### Build your own tool

1. [Generate][action.generate] a new repository from the template.
2. Clone the repository locally.
3. Update the desired files as needed, e.g., `run init my.new/tool`.
4. Write your code and tests.
5. üöÄ

### Contribute to the template

1. Read the [contribution guidelines][docs.contrib].
2. [Fork][action.fork] the repository.
3. Make your changes.
4. Send a pull request.
5. ü§ó

Before you start, please make sure your changes are in demand.
The best for that is to create [a new discussion][action.discuss],
or if you find an issue, [report it][action.issue] first.

[action.discuss]:   https://github.com/octomation/go-tool/discussions/new/choose
[action.fork]:      https://github.com/octomation/go-tool/fork
[action.generate]:  https://github.com/octomation/go-tool/generate
[action.issue]:     https://github.com/octomation/go-tool/issues/new/choose
[docs.contrib]:     https://github.com/octomation/.github/blob/main/.github/CONTRIBUTING.md
[octolab.site]:     https://github.com/octolab

## üéõÔ∏è Configuration

### Pre-configured

1. [GitHub Actions](https://github.com/features/actions).
2. [GitHub Pages](https://pages.github.com).
3. [Dependabot](https://github.com/dependabot).

### Included

1. [Nextra](https://nextra.site/).
2. [Makefiles](https://makefiles.octolab.org/).
3. [Taskfiles](https://taskfiles.octolab.org/).
4. [Go tools][egg]: [mockgen][], [golangci-lint][],
[goreleaser][], [godownloader][], [goimports][], [govulncheck][].

[egg]:              https://egg.octolab.org/
[mockgen]:          https://github.com/golang/mock
[govulncheck]:      https://github.com/golang/vuln
[goreleaser]:       https://github.com/goreleaser/goreleaser
[godownloader]:     https://godownloader.octolab.org/
[goimports]:        https://goimports.octolab.org/
[golangci-lint]:    https://golangci-lint.octolab.org/

### Optional

1. [Bitbucket](https://bitbucket.org/)[^1].
2. [Codecov](https://about.codecov.io/).
3. [Slack](https://github.com/marketplace/slack-github).
4. [Settings](https://github.com/apps/settings)[^2].
5. [Go Report Card](https://goreportcard.com/).
6. [Shields.io](https://shields.io/).
7. [GitHub Socialify](https://socialify.git.ci/).

[^1]: An alternative for backup could be [GitLab](https://about.gitlab.com/),
[Gogs](https://gogs.io/), or [Gitea](https://gitea.io/).

[^2]: It has been deprecated and will be replaced someday by
[GitHub Actions](https://github.com/octomation/go-module/issues/56).

### Coming soon

1. [CodeQL](https://codeql.github.com/) (code scanning).
2. [Graphite](https://graphite.dev/) (git workflow).
3. [Qodana](https://qodana.cloud/) (code quality).
4. [SonarCloud](https://sonarcloud.io/) (code quality).
5. [Vanity URL](https://github.com/octomation/vanity) (canonical import path).
6. [Vercel](https://vercel.com/) (docs preview).

## üõ¨ Installation

### Homebrew

```bash
$ brew install octolab/tap/tool
```

For more details please visit [the page](https://homebrew.octolab.org/).

### Binary

```bash
$ curl -fsSL https://install.octolab.org/tool | sh
# or
$ wget -qO-  https://install.octolab.org/tool | sh
```

For more details please visit [the page](https://install.octolab.org/).

### Source

```bash
# use standard go tools
$ go get go.octolab.org/template/tool@latest
# or use egg tool
$ egg tools add go.octolab.org/template/tool@latest
```

For more details please visit [the page](https://egg.octolab.org/).

### Shell completions

```bash
$ tool completion > /path/to/completions/...
# or
$ source <(tool completion)
```

## üèóÔ∏è Ecosystem

### Input

- https://github.com/kamilsk/check
- https://github.com/kamilsk/egg
- https://github.com/kamilsk/forward
- https://github.com/kamilsk/lift
- https://github.com/octomation/go-module

### Impact

- https://github.com/octomation/maintainer
- https://github.com/octomation/install
- https://github.com/octomation/makefiles
- https://github.com/octomation/taskfiles
- https://github.com/octomation/vanity

#### Actions

<sub>üöß Work in progress.</sub>

- https://github.com/octomation/goimports-action
- https://github.com/octomation/settings-action

#### Custom forks

- https://github.com/kamilsk/go-tools
- https://github.com/kamilsk/godownloader
- https://github.com/kamilsk/golangci-lint

### Output

- https://github.com/kamilsk/bridge
- https://github.com/kamilsk/grafaman
- https://github.com/octolab/breakit
- https://github.com/octolab/genome*
- https://github.com/octolab/parallel*
- https://github.com/octolab/testit
- https://github.com/octolab/try*
- https://github.com/octomation/dotapps
- https://github.com/tact-app/airseat
- https://github.com/tact-app/fiddle
- https://github.com/tact-app/loop
- https://github.com/tact-app/secret

<p align="right">made with ‚ù§Ô∏è for everyone by <a href="https://www.octolab.org/">OctoLab</a></p>

[social.preview]:   https://cdn.octolab.org/repo/go-tool.png
[preview.config]:   https://socialify.git.ci/octomation/go-tool?description=1&font=Raleway&language=1&name=1&owner=1&pattern=Circuit%20Board&theme=Light
[preview.fallback]: https://socialify.git.ci/octomation/go-tool/image?description=1&font=Raleway&language=1&name=1&owner=1&pattern=Circuit%20Board&theme=Light

[awesome.icon]:     https://awesome.re/mentioned-badge.svg
[awesome.page]:     https://awesome-go.com/project-layout/
[coverage.icon]:    https://codecov.io/gh/octomation/go-tool/branch/main/graph/badge.svg
[coverage.page]:    https://codecov.io/gh/octomation/go-tool
[quality.icon]:     https://goreportcard.com/badge/go.octolab.org/template/tool
[quality.page]:     https://goreportcard.com/report/go.octolab.org/template/tool
[docs.icon]:        https://pkg.go.dev/badge/go.octolab.org/template/tool.svg
[docs.page]:        https://pkg.go.dev/go.octolab.org/template/tool
[build.icon]:       https://img.shields.io/badge/ci%2Fcd-GitHub%20Actions-brightgreen
[build.page]:       https://github.com/octomation/go-tool/actions
[site.icon]:        https://img.shields.io/badge/site-GitHub%20Pages-brightgreen
[site.page]:        https://go-tool.octolab.org/
[mirror.icon]:      https://img.shields.io/badge/mirror-Bitbucket-blue
[mirror.page]:      https://bitbucket.org/kamilsk/go-tool
[template.icon]:    https://img.shields.io/badge/template-go--tool-blue
[template.page]:    https://github.com/octomation/go-tool
